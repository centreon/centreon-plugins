*** Settings ***
Documentation       

Resource            ${CURDIR}${/}..${/}..${/}..${/}..${/}resources/import.resource

Test Timeout        120s


*** Variables ***
${CMD}      ${CENTREON_PLUGINS} --plugin=network::cisco::wlc::snmp::plugin


*** Test Cases ***
ap-channel-Interference ${tc}
    [Tags]    network    wlc    snmp
    ${command}    Catenate
    ...    ${CMD}
    ...    --mode=ap-channel-interference
    ...    --hostname=${HOSTNAME}
    ...    --snmp-port=${SNMPPORT}
    ...    --snmp-community=network/cisco/wlc/snmp/slim_cisco_wlc
    ...    ${extra_options}

    ${output}    Run    ${command}
    ${output}    Strip String    ${output}
    Should Contain    
    ...    ${output}    
    ...    ${expected_result}
    ...    Wrong output result for command:\n${command}\n\nObtained:\n${output}\n\nExpected:\n${expected_result}\n
    ...    values=False
    ...    collapse_spaces=True

    Examples:        tc    extra_options                                                               expected_result    --
            ...      1     --filter-counters                                                           OK: All access points are ok | 'interference_power_Anonymized 007_slot0:channel1'=-128;;;; 'interference_util_Anonymized 007_slot0:channel1'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel10'=-128;;;; 'interference_util_Anonymized 007_slot0:channel10'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel11'=-63;;;; 'interference_util_Anonymized 007_slot0:channel11'=2%;;;0;100 'interference_power_Anonymized 007_slot0:channel12'=-128;;;; 'interference_util_Anonymized 007_slot0:channel12'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel13'=-128;;;; 'interference_util_Anonymized 007_slot0:channel13'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel2'=-128;;;; 'interference_util_Anonymized 007_slot0:channel2'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel3'=-128;;;; 'interference_util_Anonymized 007_slot0:channel3'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel4'=-128;;;;
            ...      2     --filter-name                                                               OK: All access points are ok | 'interference_power_Anonymized 007_slot0:channel1'=-128;;;; 'interference_util_Anonymized 007_slot0:channel1'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel10'=-128;;;; 'interference_util_Anonymized 007_slot0:channel10'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel11'=-63;;;; 'interference_util_Anonymized 007_slot0:channel11'=2%;;;0;100 'interference_power_Anonymized 007_slot0:channel12'=-128;;;; 'interference_util_Anonymized 007_slot0:channel12'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel13'=-128;;;; 'interference_util_Anonymized 007_slot0:channel13'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel2'=-128;;;; 'interference_util_Anonymized 007_slot0:channel2'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel3'=-128;;;; 'interference_util_Anonymized 007_slot0:channel3'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel4'=-128;;;; 'interference_util_Anonymized 007_slot0:channel4'=0%;;;0;100
            ...      3     --verbose                                                                   OK: All access points are ok | 'interference_power_Anonymized 007_slot0:channel1'=-128;;;; 'interference_util_Anonymized 007_slot0:channel1'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel10'=-128;;;; 'interference_util_Anonymized 007_slot0:channel10'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel11'=-63;;;; 'interference_util_Anonymized 007_slot0:channel11'=2%;;;0;100 'interference_power_Anonymized 007_slot0:channel12'=-128;;;; 'interference_util_Anonymized 007_slot0:channel12'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel13'=-128;;;; 'interference_util_Anonymized 007_slot0:channel13'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel2'=-128;;;; 'interference_util_Anonymized 007_slot0:channel2'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel3'=-128;;;; 'interference_util_Anonymized 007_slot0:channel3'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel4'=-128;;;;
            ...      4     --filter-group                                                              OK: All access points are ok | 'interference_power_Anonymized 007_slot0:channel1'=-128;;;; 'interference_util_Anonymized 007_slot0:channel1'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel10'=-128;;;; 'interference_util_Anonymized 007_slot0:channel10'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel11'=-63;;;; 'interference_util_Anonymized 007_slot0:channel11'=2%;;;0;100 'interference_power_Anonymized 007_slot0:channel12'=-128;;;; 'interference_util_Anonymized 007_slot0:channel12'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel13'=-128;;;; 'interference_util_Anonymized 007_slot0:channel13'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel2'=-128;;;; 'interference_util_Anonymized 007_slot0:channel2'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel3'=-128;;;; 'interference_util_Anonymized 007_slot0:channel3'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel4'=-128;;;; 'interference_util_Anonymized 007_slot0:channel4'=0%;;;0;100   
            ...      5     --filter-channel                                                            OK: All access points are ok | 'interference_power_Anonymized 007_slot0:channel1'=-128;;;; 'interference_util_Anonymized 007_slot0:channel1'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel10'=-128;;;; 'interference_util_Anonymized 007_slot0:channel10'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel11'=-63;;;; 'interference_util_Anonymized 007_slot0:channel11'=2%;;;0;100 'interference_power_Anonymized 007_slot0:channel12'=-128;;;; 'interference_util_Anonymized 007_slot0:channel12'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel13'=-128;;;; 'interference_util_Anonymized 007_slot0:channel13'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel2'=-128;;;; 'interference_util_Anonymized 007_slot0:channel2'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel3'=-128;;;; 'interference_util_Anonymized 007_slot0:channel3'=0%;;;0;100 'interference_power_Anonymized 007_slot0:channel4'=-128;;;;
            ...      6      --warning-interference-power=0 --critical-interference-power=100           CRITICAL: access point 'Anonymized 007' channel 'slot0:channel1' interference power: -128 - channel 'slot0:channel10' interference power: -128 - channel 'slot0:channel11' interference power: -63 - channel 'slot0:channel12' interference power: -128 - channel 'slot0:channel13' interference power: -128 - channel 'slot0:channel2' interference power: -128 - channel 'slot0:channel3' interference power: -128 - channel 'slot0:channel4' interference power: -128 - channel 'slot0:channel5' interference power: -128 - channel 'slot0:channel6' interference power: -128 - channel 'slot0:channel7' interference power: -128 - channel 'slot0:channel8' interference power: -128 - channel 'slot0:channel9' interference power: -128 - access point 'Anonymized 015' channel 'slot0:channel1' interference power: -128 - channel 'slot0:channel10' interference power: -128 - channel 'slot0:channel11' interference power: -128 - channel 'slot0:channel12' interference power: -128 - channel 'slot0:channel13' interference power: -128
            ...      7      --warning-interference-util=100 --critical-interference-util=0             CRITICAL: access point 'Anonymized 007' channel 'slot0:channel11' interference utilization: 2 % - access point 'Anonymized 035' channel 'slot0:channel10' interference utilization: 2 % - access point 'Anonymized 108' channel 'slot0:channel2' interference utilization: 1 % - channel 'slot0:channel9' interference utilization: 1 % - access point 'Anonymized 181' channel 'slot0:channel6' interference utilization: 1 % - access point 'Anonymized 249' channel 'slot0:channel11' interference utilization: 1 % | 'interference_power_Anonymized 007_slot0:channel1'=-128;;;; 'interference_util_Anonymized 007_slot0:channel1'=0%;0:100;0:0;0;100 'interference_power_Anonymized 007_slot0:channel10'=-128;;;; 'interference_util_Anonymized 007_slot0:channel10'=0%;0:100;0:0;0;100 'interference_power_Anonymized 007_slot0:channel11'=-63;;;; 'interference_util_Anonymized 007_slot0:channel11'=2%;0:100;0:0;0;100 'interference_power_Anonymized 007_slot0:channel12'=-128;;;;