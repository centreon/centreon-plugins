use std::str::FromStr;

grammar;

pub Sum: f32 = {
    <s:Sum> "+" <p:Product> => s + p,
    <s:Sum> "-" <p:Product> => s - p,
    <p:Product> => p,
};

pub Product: f32 = {
    <p:Product> "*" <t:Term> => p * t,
    <p:Product> "/" <t:Term> => p / t,
    <t:Term> => t,
};

pub Term: f32 = {
    <n:Num> => n,
    "(" <t:Sum> ")" => t,
};

Num: f32 = <s:r"-?[0-9.]+"> => f32::from_str(s).unwrap();
