{
  "collect": {
    "snmp": [
      {
	"name": "disk",
	"oid": "1.3.6.1.2.1.25.2.3.1",
	"query": "Walk",
	"labels": {
	  ".3": "label",
	  ".4": "allocationUnits",
	  ".5": "size",
	  ".6": "used"
	}
      }
    ]
  },
  "compute": {
    "metrics": [
      {
	"prefix": "{disk.label}",
	"name": "disk.usage.percent",
	"value": "100 * {disk.used} / {disk.size}",
	"uom": "%",
	"min": 0,
	"max": 100,
	"output": "{prefix}: {metrics.value}% used"
      },
      {
	"prefix": "{disk.label}",
	"name": "disk.usage.bytes",
	"value": "{disk.used} * {disk.allocationUnits}",
	"uom": "B",
	"min": 0,
	"max_expr": "{disk.size} * {disk.allocationUnits}"
      }
    ],
    "aggregations": [
      {
        "name": "avg.disk.usage.percent",
	"value": "Average({metrics.disk.usage.percent})",
	"uom": "%",
	"min": 0,
	"max": 100
      }
    ]
  },
  "output": {
    "ok": "Disk usage OK: {aggregations.avg.disk.usage.percent}% used",
    "detail_ok": false,
    "warning": "Disk usage WARNING:",
    "detail_warning": true,
    "critical": "Disk usage CRITICAL:",
    "detail_critical": true,
    "instance_separator": " - ",
    "metric_separator": ", "
  }
}

