.. _allJobHaveNoMsgWInSubSystem:

*************************************************************************************
Controle le nombre de job en attente de message (MSGW) dans un sous system spécifique
*************************************************************************************

Description
^^^^^^^^^^^

+------------------+-------------------------------------------------------------------------------------------------------------------------+
| Description      | Controle l'ensemble des jobs dans un sous system spécifique, et vérifie qu'ils ne sont pas en attente de message (MSGW) |
+------------------+-------------------------------------------------------------------------------------------------------------------------+
| Fonctionnement   | OK si le nombre de job en attente de message est inférieur ou égal au warning count                                     |
|                  | WARNING si le nombre de job en attente de message est inferieur au "critical count »                                    |
|                  | CRITICAL si le nombre de job en attente de message est superieur ou égal au « critical count ».                         |
+------------------+-------------------------------------------------------------------------------------------------------------------------+
| API utilisée     | QGYOLJOB format OLJB0200, QGYGTLE, QGYCLST                                                                              |
+------------------+-------------------------------------------------------------------------------------------------------------------------+
| Autorité requise | *USE                                                                                                                    |
+------------------+-------------------------------------------------------------------------------------------------------------------------+

Arguments de la commande
^^^^^^^^^^^^^^^^^^^^^^^^

+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+
| Nom de la commande          | Nombre d'argument                     | Arguments           |                           |         |
+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+
| allJobHaveNoMsgWInSubSystem | 1                                     | Ordre des arguments | Description               | Exemple |
+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+
|                             |                                       | Argument 1          | Sous system               | QBASE   |
+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+
|                             |                                       | Argument 2          | Seuil Warning (quantité)  | 1       |
+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+
|                             |                                       | Argument 3          | Seuil Critical (quantité) | 2       |
+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+
| Métriques renvoyées         | totalJob=123 jobMSGW=1                |                     |                           |         |
+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+
| Output renvoyé              | Le nom des jobs en attente de message |                     |                           |         |
+-----------------------------+---------------------------------------+---------------------+---------------------------+---------+

Consommation réseau
^^^^^^^^^^^^^^^^^^^

+---------------------------------------+---------------------------------+-------------------------------+
| Nombre de jobs présent sur le serveur | Download (as400 vers connector) | Upload (connector vers as400) |
+---------------------------------------+---------------------------------+-------------------------------+
| 1 (théorique)                         | 77 o                            | 2,3 o                         |
+---------------------------------------+---------------------------------+-------------------------------+
| 10000                                 | 750 ko                          | 23 ko                         |
+---------------------------------------+---------------------------------+-------------------------------+

Exemple de configuration
^^^^^^^^^^^^^^^^^^^^^^^^

+------------+-----------------------------+
| Macro name | Macro value                 |
+------------+-----------------------------+
| CHECK      | allJobHaveNoMsgWInSubSystem |
+------------+-----------------------------+
| ARGS       | QBASE!1!2                   |
+------------+-----------------------------+
