.. _diskState:

********************************************
Etat de fonctionnement des disques physiques
********************************************

Description
^^^^^^^^^^^

+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Description      | Contrôle l'état de fonctionnement de l'ensemble des disques physiques                                                                                                                   |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Fonctionnement   | Un disque physique peut prendre plusieurs état : no control, active, failed, hardware failure, rebuild, not ready, protected, busy, not operational, unknown state (13 états au total). |
|                  | Ok si tous les disques sont actifs (active)                                                                                                                                             |
|                  | Critique si au moins un disque est dans un état différent de actif.                                                                                                                     |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| API utilisée     | QYASPOL, format YASP0300, QGYGTLE, QGYCLST                                                                                                                                              |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Autorité requise | *USE                                                                                                                                                                                    |
+------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Arguments de la commande
^^^^^^^^^^^^^^^^^^^^^^^^

+---------------------+--------------------------+---------------------+-------------+---------+
| Nom de la commande  | Nombre d'argument        | Arguments           |             |         |
+---------------------+--------------------------+---------------------+-------------+---------+
| diskState           | 0                        | Ordre des arguments | Description | Exemple |
+---------------------+--------------------------+---------------------+-------------+---------+
|                     |                          | X                   | X           | X       |
+---------------------+--------------------------+---------------------+-------------+---------+
| Métriques renvoyées | totaldisk=x activedisk=x |                     |             |         |
+---------------------+--------------------------+---------------------+-------------+---------+

Consommation réseau
^^^^^^^^^^^^^^^^^^^

+---------------------------------+-------------------------------+
| Download (as400 vers connector) | Upload (connector vers as400) |
+---------------------------------+-------------------------------+
| 4,1 ko                          | 4,3 ko                        |
+---------------------------------+-------------------------------+

Exemple de configuration
^^^^^^^^^^^^^^^^^^^^^^^^

+------------+-------------+
| Macro name | Macro value |
+------------+-------------+
| CHECK      | diskState   |
+------------+-------------+
