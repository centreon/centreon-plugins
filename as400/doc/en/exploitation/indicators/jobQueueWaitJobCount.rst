.. _jobQueueWaitJobCount:

*********************************************************************************************
Check amount of job waiting in a jobQueue disregarding jobs priorities (jobQueueWaitJobCount)
*********************************************************************************************

Description
^^^^^^^^^^^

+------------------+-----------------------------------------------------------------------------------------------------------------+-+
| Description      | Check amount of job waiting in a jobQueue disregarding jobs priorities                                          | |
+------------------+-----------------------------------------------------------------------------------------------------------------+-+
| Fonctionnement   | The jobs in a jobs queue can be ACTIVE, HELD, ou SCHEDULED.                                                     | |
|                  | Ok if the job count in HELD state is below the warning threshold.                                               | |
|                  | Warning if the job count in HELD state is above the warning threshold.                                          | |
|                  | Critical if job count in HELD state is above the critical threshold.                                            | |
+------------------+-----------------------------------------------------------------------------------------------------------------+-+
| API utilisée     | QSPRJOBQ, format JOBQ0100 & JOBQ0200                                                                            | |
+------------------+-----------------------------------------------------------------------------------------------------------------+-+
| Autorité requise | *USE, *EXECUTE sur la jobQueue Library, *READ sur la jobQueue*JOBCTL sur les JobQueue contrôlé par OPRCTL(*YES) | |
+------------------+-----------------------------------------------------------------------------------------------------------------+-+

Command argument
^^^^^^^^^^^^^^^^

+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+
| Command name         | Number of arguments                                 | Arguments       |                             |           |
+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+
| jobQueueWaitJobCount | 4                                                   | Arguments order | Description                 | Exemple   |
+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+
|                      |                                                     | Argument 1      | JobQueue name               | QSYSNOMAX |
+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+
|                      |                                                     | Argument 2      | Library name                | QSYS      |
+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+
|                      |                                                     | Argument 3      | Warning threshold (amount)  | 1         |
+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+
|                      |                                                     | Argument 4      | Critical threshold (amount) | 2         |
+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+
| Metrics returned     | activeJob=44 heldJobOnQueue=0 scheduledJobOnQueue=0 |                 |                             |           |
+----------------------+-----------------------------------------------------+-----------------+-----------------------------+-----------+

Network usage
^^^^^^^^^^^^^

+-------------------------------+-----------------------------+
| Download (as400 to connector) | Upload (connector to as400) |
+-------------------------------+-----------------------------+
| 750 o                         | 800 o                       |
+-------------------------------+-----------------------------+

Configuration exemple
^^^^^^^^^^^^^^^^^^^^^

+------------+----------------------+
| Macro name | Macro value          |
+------------+----------------------+
| CHECK      | jobQueueWaitJobCount |
+------------+----------------------+
| ARGS       | QSYSNOMAX!QSYS!1!2   |
+------------+----------------------+
